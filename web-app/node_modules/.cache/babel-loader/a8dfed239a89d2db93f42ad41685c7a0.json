{"ast":null,"code":"var _jsxFileName = \"D:\\\\e beta react native\\\\eBetaDrive\\\\web-app\\\\src\\\\views\\\\LoginPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Email from \"@material-ui/icons/Email\";\nimport Header from \"components/Header/Header.js\";\nimport HeaderLinks from \"components/Header/HeaderLinks.js\";\nimport Footer from \"components/Footer/Footer.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport styles from \"assets/jss/material-kit-react/views/loginPage.js\";\nimport image from \"assets/img/background.jpg\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Paper from '@material-ui/core/Paper';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport EmailIcon from '@material-ui/icons/Email';\nimport AlertDialog from '../components/AlertDialog';\nimport CountrySelect from '../components/CountrySelect';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button as RegularButton } from \"@material-ui/core\";\nimport { language, default_country_code, features } from 'config';\nimport { FirebaseContext } from 'common';\nconst useStyles = makeStyles(styles);\nexport default function LoginPage(props) {\n  _s();\n\n  const {\n    api,\n    authRef,\n    RecaptchaVerifier\n  } = useContext(FirebaseContext);\n  const {\n    signIn,\n    facebookSignIn,\n    clearLoginError,\n    mobileSignIn,\n    signOut,\n    sendResetMail,\n    checkUserExists\n  } = api;\n  const auth = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  const [loginType, setLoginType] = React.useState(0);\n  const [activeReg, setActiveReg] = React.useState(false);\n  const [openFPModal, setOpenFPModal] = React.useState(false);\n  const [capatchaReady, setCapatchaReady] = React.useState(false);\n  const [data, setData] = React.useState({\n    email: '',\n    pass: '',\n    country: default_country_code.phone,\n    mobile: '',\n    password: '',\n    otp: '',\n    verificationId: null,\n    firstName: '',\n    lastName: '',\n    selectedcountry: default_country_code,\n    usertype: 'rider',\n    referralId: ''\n  });\n  const [tabDisabled, setTabDisabled] = React.useState(false);\n  const [fpEmail, setFpEmail] = React.useState(\"\");\n  const [commonAlert, setCommonAlert] = useState({\n    open: false,\n    msg: ''\n  });\n  const classes = useStyles();\n  const { ...rest\n  } = props;\n  useEffect(() => {\n    if (!capatchaReady) {\n      window.recaptchaVerifier = new RecaptchaVerifier(\"sign-in-button\", {\n        'size': 'invisible',\n        'callback': function (response) {\n          setCapatchaReady(true);\n        }\n      });\n    }\n\n    if (auth.info) {\n      if (auth.info.profile) {\n        let role = auth.info.profile.usertype;\n\n        if (role === 'admin' || role === 'fleetadmin') {\n          props.history.push('/dashboard');\n        } else if (role === 'driver') {\n          props.history.push('/bookings');\n        } else {\n          features.WebsitePagesEnabled ? props.history.push('/') : props.history.push('/bookings');\n        }\n      } else {\n        if (!activeReg) {\n          setActiveReg(true);\n\n          if (auth.info.phoneNumber) {\n            setData({ ...data,\n              mobile: auth.info.phoneNumber\n            });\n            setLoginType(1);\n          } else {\n            setData({ ...data,\n              email: auth.info.email\n            });\n            setLoginType(0);\n          }\n\n          setTabDisabled(true);\n          setCommonAlert({\n            open: true,\n            msg: language.login_success\n          });\n        }\n      }\n    }\n\n    if (auth.error && auth.error.flag && auth.error.msg.message !== language.not_logged_in) {\n      setCommonAlert({\n        open: true,\n        msg: auth.error.msg.message\n      });\n    }\n\n    if (auth.verificationId) {\n      setData({ ...data,\n        verificationId: auth.verificationId\n      });\n    }\n  }, [auth.info, auth.error, auth.verificationId, props.history, data, data.email, activeReg, capatchaReady, RecaptchaVerifier]);\n\n  const handleTabChange = (event, newValue) => {\n    setLoginType(newValue);\n  };\n\n  const handleFacebook = e => {\n    e.preventDefault();\n    dispatch(facebookSignIn());\n  };\n\n  const handleCommonAlertClose = e => {\n    e.preventDefault();\n    setCommonAlert({\n      open: false,\n      msg: ''\n    });\n\n    if (auth.error.flag) {\n      setData({ ...data,\n        email: '',\n        pass: ''\n      });\n      dispatch(clearLoginError());\n    }\n  };\n\n  const onInputChange = event => {\n    setData({ ...data,\n      [event.target.id]: event.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault(); //eslint-disable-next-line\n\n    if (/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(data.email) && data.pass.length > 0) {\n      dispatch(signIn(data.email, data.pass));\n    } else {\n      setCommonAlert({\n        open: true,\n        msg: language.login_validate_error\n      });\n    }\n\n    setData({ ...data,\n      email: '',\n      pass: ''\n    });\n  };\n\n  const handleGetOTP = e => {\n    e.preventDefault();\n    const phoneNumber = \"+\" + data.country + data.mobile;\n    checkUserExists({\n      mobile: phoneNumber\n    }).then(res => {\n      if (res.users && res.users.length > 0) {\n        const appVerifier = window.recaptchaVerifier;\n        authRef.signInWithPhoneNumber(phoneNumber, appVerifier).then(res => {\n          setData({ ...data,\n            verificationId: res.verificationId\n          });\n        }).catch(error => {\n          setCommonAlert({\n            open: true,\n            msg: error.code + \": \" + error.message\n          });\n        });\n      } else {\n        setCommonAlert({\n          open: true,\n          msg: language.user_does_not_exists\n        });\n      }\n    });\n  };\n\n  const handleVerifyOTP = e => {\n    e.preventDefault();\n\n    if (data.otp.length === 6 && parseInt(data.otp) > 100000 & parseInt(data.otp) < 1000000) {\n      dispatch(mobileSignIn(data.verificationId, data.otp));\n    } else {\n      setCommonAlert({\n        open: true,\n        msg: language.otp_validate_error\n      });\n    }\n  };\n\n  const handleCancel = e => {\n    e.preventDefault();\n    dispatch(signOut());\n    setTabDisabled(false);\n    setActiveReg(false);\n  };\n\n  const onCountryChange = (object, value) => {\n    if (value && value.phone) {\n      setData({ ...data,\n        country: value.phone,\n        selectedcountry: value\n      });\n    }\n  };\n\n  const handleRegister = e => {\n    props.history.push('/register');\n  };\n\n  const handleForgotPass = e => {\n    e.preventDefault();\n    setOpenFPModal(true);\n  };\n\n  const onFPModalEmailChange = e => {\n    e.preventDefault();\n    setFpEmail(e.target.value);\n  };\n\n  const handleCloseFP = e => {\n    e.preventDefault();\n    setFpEmail('');\n    setOpenFPModal(false);\n  };\n\n  const handleResetPassword = e => {\n    e.preventDefault();\n    dispatch(sendResetMail(fpEmail));\n    setFpEmail('');\n    setOpenFPModal(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, Object.assign({\n    absolute: true,\n    color: \"transparent\",\n    rightLinks: /*#__PURE__*/React.createElement(HeaderLinks, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    })\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.pageHeader,\n    style: {\n      backgroundImage: \"url(\" + image + \")\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"top center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"sign-in-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GridContainer, {\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 17\n    }\n  }, features.FacebookLoginEnabled ? /*#__PURE__*/React.createElement(CardHeader, {\n    color: \"info\",\n    className: classes.cardHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 21\n    }\n  }, language.signIn), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.socialLine,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 21\n    }\n  }, features.FacebookLoginEnabled ? /*#__PURE__*/React.createElement(Button, {\n    justIcon: true,\n    href: \"#pablo\",\n    target: \"_blank\",\n    color: \"transparent\",\n    onClick: handleFacebook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fab fa-facebook\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 25\n    }\n  })) : null)) : null, /*#__PURE__*/React.createElement(Paper, {\n    square: true,\n    className: classes.root,\n    style: !features.FacebookLoginEnabled ? {\n      paddingTop: 20,\n      borderTopLeftRadius: 10,\n      borderTopRightRadius: 10\n    } : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    value: loginType,\n    onChange: handleTabChange,\n    variant: \"fullWidth\",\n    indicatorColor: \"primary\",\n    textColor: \"inherit\",\n    \"aria-label\": \"switch login type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    disabled: tabDisabled,\n    icon: /*#__PURE__*/React.createElement(EmailIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 57\n      }\n    }),\n    label: language.email_tab,\n    \"aria-label\": \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 23\n    }\n  }), features.MobileLoginEnabled ? /*#__PURE__*/React.createElement(Tab, {\n    disabled: tabDisabled,\n    icon: /*#__PURE__*/React.createElement(PhoneIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 57\n      }\n    }),\n    label: language.phone_tab,\n    \"aria-label\": \"phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 23\n    }\n  }) : null)), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 19\n    }\n  }, loginType === 0 ?\n  /*#__PURE__*/\n  //EMAIL\n  React.createElement(CustomInput, {\n    labelText: language.email,\n    id: \"email\",\n    formControlProps: {\n      fullWidth: true\n    },\n    inputProps: {\n      type: \"email\",\n      required: true,\n      endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Email, {\n        className: classes.inputIconsColor,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 31\n        }\n      }))\n    },\n    onChange: onInputChange,\n    value: data.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 23\n    }\n  }) : null, loginType === 0 ? /*#__PURE__*/React.createElement(CustomInput, {\n    labelText: language.password,\n    id: \"pass\",\n    formControlProps: {\n      fullWidth: true\n    },\n    inputProps: {\n      type: \"password\",\n      required: true,\n      endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        className: classes.inputIconsColor,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 31\n        }\n      }, \"lock_outline\")),\n      autoComplete: \"off\"\n    },\n    onChange: onInputChange,\n    value: data.pass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 23\n    }\n  }) : null, loginType === 1 && features.AllowCountrySelection ?\n  /*#__PURE__*/\n  // COUNTRY\n  React.createElement(CountrySelect, {\n    value: data.selectedcountry,\n    onChange: onCountryChange,\n    style: {\n      paddingTop: 20\n    },\n    disabled: data.verificationId ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 23\n    }\n  }) : null, loginType === 1 ?\n  /*#__PURE__*/\n  //MOBILE\n  React.createElement(CustomInput, {\n    labelText: language.phone,\n    id: \"mobile\",\n    formControlProps: {\n      fullWidth: true\n    },\n    inputProps: {\n      required: true,\n      disabled: data.verificationId ? true : false,\n      endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(PhoneIcon, {\n        className: classes.inputIconsColor,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 31\n        }\n      }))\n    },\n    onChange: onInputChange,\n    value: data.mobile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 23\n    }\n  }) : null, data.verificationId && loginType === 1 ?\n  /*#__PURE__*/\n  // OTP\n  React.createElement(CustomInput, {\n    labelText: language.otp,\n    id: \"otp\",\n    formControlProps: {\n      fullWidth: true\n    },\n    inputProps: {\n      type: \"password\",\n      required: true,\n      endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        className: classes.inputIconsColor,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 31\n        }\n      }, \"lock_outline\")),\n      autoComplete: \"off\"\n    },\n    onChange: onInputChange,\n    value: data.otp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 23\n    }\n  }) : null, loginType === 0 ? /*#__PURE__*/React.createElement(RegularButton, {\n    color: \"inherit\",\n    onClick: handleForgotPass,\n    disableElevation: true,\n    disableFocusRipple: true,\n    disableRipple: true,\n    className: classes.forgotButton,\n    variant: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 23\n    }\n  }, language.forgot_password) : null), /*#__PURE__*/React.createElement(CardFooter, {\n    className: classes.cardFooter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 19\n    }\n  }, loginType === 0 ? /*#__PURE__*/React.createElement(Button, {\n    className: classes.normalButton,\n    simple: true,\n    color: \"primary\",\n    size: \"lg\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 23\n    }\n  }, language.login) : null, loginType === 0 ? /*#__PURE__*/React.createElement(Button, {\n    className: classes.normalButton,\n    simple: true,\n    color: \"primary\",\n    size: \"lg\",\n    onClick: handleRegister,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 23\n    }\n  }, language.register) : null, loginType === 1 && !data.verificationId ? /*#__PURE__*/React.createElement(Button, {\n    className: classes.normalButton,\n    simple: true,\n    color: \"primary\",\n    size: \"lg\",\n    onClick: handleGetOTP,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 23\n    }\n  }, language.get_otp) : null, loginType === 1 && data.verificationId ? /*#__PURE__*/React.createElement(Button, {\n    className: classes.normalButton,\n    simple: true,\n    color: \"primary\",\n    size: \"lg\",\n    onClick: handleVerifyOTP,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 23\n    }\n  }, language.verify_otp) : null, loginType === 1 && data.verificationId ? /*#__PURE__*/React.createElement(Button, {\n    className: classes.normalButton,\n    simple: true,\n    color: \"primary\",\n    size: \"lg\",\n    onClick: handleCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 23\n    }\n  }, language.cancel) : null)))))), /*#__PURE__*/React.createElement(Footer, {\n    whiteFont: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Dialog, {\n    open: openFPModal,\n    onClose: handleCloseFP,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 11\n    }\n  }, language.forgot_pass_title), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 13\n    }\n  }, language.forgot_pass_description), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"name\",\n    label: language.email,\n    type: \"email\",\n    fullWidth: true,\n    onChange: onFPModalEmailChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleCloseFP,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 13\n    }\n  }, language.cancel), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleResetPassword,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 13\n    }\n  }, language.reset_password))), /*#__PURE__*/React.createElement(AlertDialog, {\n    open: commonAlert.open,\n    onClose: handleCommonAlertClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 9\n    }\n  }, commonAlert.msg)));\n}\n\n_s(LoginPage, \"nRgQE00w0Co72uKVAYCY96r8d/w=\", false, function () {\n  return [useSelector, useDispatch, useStyles];\n});\n\n_c = LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["D:/e beta react native/eBetaDrive/web-app/src/views/LoginPage.js"],"names":["React","useState","useEffect","useContext","makeStyles","InputAdornment","Icon","Email","Header","HeaderLinks","Footer","GridContainer","GridItem","Button","Card","CardBody","CardHeader","CardFooter","CustomInput","styles","image","useSelector","useDispatch","Paper","Tabs","Tab","PhoneIcon","EmailIcon","AlertDialog","CountrySelect","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","RegularButton","language","default_country_code","features","FirebaseContext","useStyles","LoginPage","props","api","authRef","RecaptchaVerifier","signIn","facebookSignIn","clearLoginError","mobileSignIn","signOut","sendResetMail","checkUserExists","auth","state","dispatch","loginType","setLoginType","activeReg","setActiveReg","openFPModal","setOpenFPModal","capatchaReady","setCapatchaReady","data","setData","email","pass","country","phone","mobile","password","otp","verificationId","firstName","lastName","selectedcountry","usertype","referralId","tabDisabled","setTabDisabled","fpEmail","setFpEmail","commonAlert","setCommonAlert","open","msg","classes","rest","window","recaptchaVerifier","response","info","profile","role","history","push","WebsitePagesEnabled","phoneNumber","login_success","error","flag","message","not_logged_in","handleTabChange","event","newValue","handleFacebook","e","preventDefault","handleCommonAlertClose","onInputChange","target","id","value","handleSubmit","test","length","login_validate_error","handleGetOTP","then","res","users","appVerifier","signInWithPhoneNumber","catch","code","user_does_not_exists","handleVerifyOTP","parseInt","otp_validate_error","handleCancel","onCountryChange","object","handleRegister","handleForgotPass","onFPModalEmailChange","handleCloseFP","handleResetPassword","pageHeader","backgroundImage","backgroundSize","backgroundPosition","container","form","FacebookLoginEnabled","cardHeader","socialLine","root","paddingTop","borderTopLeftRadius","borderTopRightRadius","email_tab","MobileLoginEnabled","phone_tab","fullWidth","type","required","endAdornment","inputIconsColor","autoComplete","AllowCountrySelection","disabled","forgotButton","forgot_password","cardFooter","normalButton","login","register","get_otp","verify_otp","cancel","forgot_pass_title","forgot_pass_description","reset_password"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,WAAP,MAAwB,kCAAxB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,OAAOC,MAAP,MAAmB,kDAAnB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAAQtB,MAAM,IAAIuB,aAAlB,QAAsC,mBAAtC;AACA,SACEC,QADF,EAEEC,oBAFF,EAGEC,QAHF,QAIO,QAJP;AAKA,SAASC,eAAT,QAAgC,QAAhC;AAEA,MAAMC,SAAS,GAAGrC,UAAU,CAACe,MAAD,CAA5B;AAEA,eAAe,SAASuB,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AACvC,QAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA,OAAP;AAAgBC,IAAAA;AAAhB,MAAsC3C,UAAU,CAACqC,eAAD,CAAtD;AACA,QAAM;AACJO,IAAAA,MADI;AAEJC,IAAAA,cAFI;AAGJC,IAAAA,eAHI;AAIJC,IAAAA,YAJI;AAKJC,IAAAA,OALI;AAMJC,IAAAA,aANI;AAOJC,IAAAA;AAPI,MAQFT,GARJ;AAUA,QAAMU,IAAI,GAAGjC,WAAW,CAACkC,KAAK,IAAIA,KAAK,CAACD,IAAhB,CAAxB;AACA,QAAME,QAAQ,GAAGlC,WAAW,EAA5B;AACA,QAAM,CAACmC,SAAD,EAAYC,YAAZ,IAA4B1D,KAAK,CAACC,QAAN,CAAe,CAAf,CAAlC;AACA,QAAM,CAAC0D,SAAD,EAAYC,YAAZ,IAA4B5D,KAAK,CAACC,QAAN,CAAe,KAAf,CAAlC;AACA,QAAM,CAAC4D,WAAD,EAAcC,cAAd,IAAgC9D,KAAK,CAACC,QAAN,CAAe,KAAf,CAAtC;AACA,QAAM,CAAC8D,aAAD,EAAgBC,gBAAhB,IAAoChE,KAAK,CAACC,QAAN,CAAe,KAAf,CAA1C;AAEA,QAAM,CAACgE,IAAD,EAAOC,OAAP,IAAkBlE,KAAK,CAACC,QAAN,CAAe;AACrCkE,IAAAA,KAAK,EAAE,EAD8B;AAErCC,IAAAA,IAAI,EAAE,EAF+B;AAGrCC,IAAAA,OAAO,EAAE/B,oBAAoB,CAACgC,KAHO;AAIrCC,IAAAA,MAAM,EAAE,EAJ6B;AAKrCC,IAAAA,QAAQ,EAAE,EAL2B;AAMrCC,IAAAA,GAAG,EAAE,EANgC;AAOrCC,IAAAA,cAAc,EAAE,IAPqB;AAQrCC,IAAAA,SAAS,EAAE,EAR0B;AASrCC,IAAAA,QAAQ,EAAE,EAT2B;AAUrCC,IAAAA,eAAe,EAACvC,oBAVqB;AAWrCwC,IAAAA,QAAQ,EAAC,OAX4B;AAYrCC,IAAAA,UAAU,EAAC;AAZ0B,GAAf,CAAxB;AAeA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCjF,KAAK,CAACC,QAAN,CAAe,KAAf,CAAtC;AACA,QAAM,CAACiF,OAAD,EAAUC,UAAV,IAAwBnF,KAAK,CAACC,QAAN,CAAe,EAAf,CAA9B;AAEA,QAAM,CAACmF,WAAD,EAAcC,cAAd,IAAgCpF,QAAQ,CAAC;AAAEqF,IAAAA,IAAI,EAAE,KAAR;AAAeC,IAAAA,GAAG,EAAE;AAApB,GAAD,CAA9C;AAEA,QAAMC,OAAO,GAAG/C,SAAS,EAAzB;AACA,QAAM,EAAE,GAAGgD;AAAL,MAAc9C,KAApB;AAEAzC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAG,CAAC6D,aAAJ,EAAkB;AAChB2B,MAAAA,MAAM,CAACC,iBAAP,GAA2B,IAAI7C,iBAAJ,CAAsB,gBAAtB,EAAuC;AAChE,gBAAQ,WADwD;AAEhE,oBAAY,UAAS8C,QAAT,EAAmB;AAC7B5B,UAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD;AAJ+D,OAAvC,CAA3B;AAMD;;AACD,QAAIV,IAAI,CAACuC,IAAT,EAAe;AACb,UAAGvC,IAAI,CAACuC,IAAL,CAAUC,OAAb,EAAqB;AACnB,YAAIC,IAAI,GAAGzC,IAAI,CAACuC,IAAL,CAAUC,OAAV,CAAkBhB,QAA7B;;AACA,YAAGiB,IAAI,KAAG,OAAP,IAAkBA,IAAI,KAAG,YAA5B,EAAyC;AACvCpD,UAAAA,KAAK,CAACqD,OAAN,CAAcC,IAAd,CAAmB,YAAnB;AACD,SAFD,MAGK,IAAIF,IAAI,KAAG,QAAX,EAAoB;AACvBpD,UAAAA,KAAK,CAACqD,OAAN,CAAcC,IAAd,CAAmB,WAAnB;AACD,SAFI,MAGA;AACH1D,UAAAA,QAAQ,CAAC2D,mBAAT,GAA6BvD,KAAK,CAACqD,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CAA7B,GAAqDtD,KAAK,CAACqD,OAAN,CAAcC,IAAd,CAAmB,WAAnB,CAArD;AACD;AACF,OAXD,MAWK;AACH,YAAG,CAACtC,SAAJ,EAAc;AACZC,UAAAA,YAAY,CAAC,IAAD,CAAZ;;AACA,cAAGN,IAAI,CAACuC,IAAL,CAAUM,WAAb,EAAyB;AACvBjC,YAAAA,OAAO,CAAC,EAAC,GAAGD,IAAJ;AAASM,cAAAA,MAAM,EAACjB,IAAI,CAACuC,IAAL,CAAUM;AAA1B,aAAD,CAAP;AACAzC,YAAAA,YAAY,CAAC,CAAD,CAAZ;AACD,WAHD,MAGK;AACHQ,YAAAA,OAAO,CAAC,EAAC,GAAGD,IAAJ;AAASE,cAAAA,KAAK,EAACb,IAAI,CAACuC,IAAL,CAAU1B;AAAzB,aAAD,CAAP;AACAT,YAAAA,YAAY,CAAC,CAAD,CAAZ;AACD;;AACDuB,UAAAA,cAAc,CAAC,IAAD,CAAd;AACAI,UAAAA,cAAc,CAAC;AAAEC,YAAAA,IAAI,EAAE,IAAR;AAAcC,YAAAA,GAAG,EAAElD,QAAQ,CAAC+D;AAA5B,WAAD,CAAd;AACD;AACF;AACF;;AACD,QAAI9C,IAAI,CAAC+C,KAAL,IAAc/C,IAAI,CAAC+C,KAAL,CAAWC,IAAzB,IAAiChD,IAAI,CAAC+C,KAAL,CAAWd,GAAX,CAAegB,OAAf,KAA2BlE,QAAQ,CAACmE,aAAzE,EAAwF;AACtFnB,MAAAA,cAAc,CAAC;AAAEC,QAAAA,IAAI,EAAE,IAAR;AAAcC,QAAAA,GAAG,EAAEjC,IAAI,CAAC+C,KAAL,CAAWd,GAAX,CAAegB;AAAlC,OAAD,CAAd;AACD;;AACD,QAAGjD,IAAI,CAACoB,cAAR,EAAuB;AACrBR,MAAAA,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAWS,QAAAA,cAAc,EAAEpB,IAAI,CAACoB;AAAhC,OAAD,CAAP;AACD;AACF,GA1CQ,EA0CN,CAACpB,IAAI,CAACuC,IAAN,EAAYvC,IAAI,CAAC+C,KAAjB,EAAwB/C,IAAI,CAACoB,cAA7B,EAA6C/B,KAAK,CAACqD,OAAnD,EAA4D/B,IAA5D,EAAkEA,IAAI,CAACE,KAAvE,EAA6ER,SAA7E,EAAuFI,aAAvF,EAAqGjB,iBAArG,CA1CM,CAAT;;AA4CA,QAAM2D,eAAe,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC3CjD,IAAAA,YAAY,CAACiD,QAAD,CAAZ;AACD,GAFD;;AAIA,QAAMC,cAAc,GAAIC,CAAD,IAAO;AAC5BA,IAAAA,CAAC,CAACC,cAAF;AACAtD,IAAAA,QAAQ,CAACR,cAAc,EAAf,CAAR;AACD,GAHD;;AAKA,QAAM+D,sBAAsB,GAAIF,CAAD,IAAO;AACpCA,IAAAA,CAAC,CAACC,cAAF;AACAzB,IAAAA,cAAc,CAAC;AAAEC,MAAAA,IAAI,EAAE,KAAR;AAAeC,MAAAA,GAAG,EAAE;AAApB,KAAD,CAAd;;AACA,QAAIjC,IAAI,CAAC+C,KAAL,CAAWC,IAAf,EAAqB;AACnBpC,MAAAA,OAAO,CAAC,EAAC,GAAGD,IAAJ;AAASE,QAAAA,KAAK,EAAC,EAAf;AAAkBC,QAAAA,IAAI,EAAC;AAAvB,OAAD,CAAP;AACAZ,MAAAA,QAAQ,CAACP,eAAe,EAAhB,CAAR;AACD;AACF,GAPD;;AASA,QAAM+D,aAAa,GAAIN,KAAD,IAAW;AAC/BxC,IAAAA,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAW,OAACyC,KAAK,CAACO,MAAN,CAAaC,EAAd,GAAmBR,KAAK,CAACO,MAAN,CAAaE;AAA3C,KAAD,CAAP;AACD,GAFD;;AAIA,QAAMC,YAAY,GAAIP,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF,GAD0B,CAE1B;;AACA,QAAI,yJAAyJO,IAAzJ,CAA8JpD,IAAI,CAACE,KAAnK,KAA6KF,IAAI,CAACG,IAAL,CAAUkD,MAAV,GAAmB,CAApM,EAAuM;AACrM9D,MAAAA,QAAQ,CAACT,MAAM,CAACkB,IAAI,CAACE,KAAN,EAAaF,IAAI,CAACG,IAAlB,CAAP,CAAR;AACD,KAFD,MAEO;AACLiB,MAAAA,cAAc,CAAC;AAAEC,QAAAA,IAAI,EAAE,IAAR;AAAcC,QAAAA,GAAG,EAAElD,QAAQ,CAACkF;AAA5B,OAAD,CAAd;AACD;;AACDrD,IAAAA,OAAO,CAAC,EAAC,GAAGD,IAAJ;AAASE,MAAAA,KAAK,EAAC,EAAf;AAAkBC,MAAAA,IAAI,EAAC;AAAvB,KAAD,CAAP;AACD,GATD;;AAWA,QAAMoD,YAAY,GAAIX,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMX,WAAW,GAAG,MAAMlC,IAAI,CAACI,OAAX,GAAqBJ,IAAI,CAACM,MAA9C;AACAlB,IAAAA,eAAe,CAAC;AAACkB,MAAAA,MAAM,EAAC4B;AAAR,KAAD,CAAf,CAAsCsB,IAAtC,CAA4CC,GAAD,IAAO;AAChD,UAAGA,GAAG,CAACC,KAAJ,IAAaD,GAAG,CAACC,KAAJ,CAAUL,MAAV,GAAiB,CAAjC,EAAmC;AAC/B,cAAMM,WAAW,GAAGlC,MAAM,CAACC,iBAA3B;AACA9C,QAAAA,OAAO,CACNgF,qBADD,CACuB1B,WADvB,EACoCyB,WADpC,EAECH,IAFD,CAEMC,GAAG,IAAI;AACTxD,UAAAA,OAAO,CAAC,EAAC,GAAGD,IAAJ;AAAUS,YAAAA,cAAc,EAAEgD,GAAG,CAAChD;AAA9B,WAAD,CAAP;AACH,SAJD,EAKCoD,KALD,CAKOzB,KAAK,IAAI;AACZhB,UAAAA,cAAc,CAAC;AAAEC,YAAAA,IAAI,EAAE,IAAR;AAAcC,YAAAA,GAAG,EAAEc,KAAK,CAAC0B,IAAN,GAAa,IAAb,GAAoB1B,KAAK,CAACE;AAA7C,WAAD,CAAd;AACH,SAPD;AAQH,OAVD,MAWI;AACAlB,QAAAA,cAAc,CAAC;AAAEC,UAAAA,IAAI,EAAE,IAAR;AAAcC,UAAAA,GAAG,EAAElD,QAAQ,CAAC2F;AAA5B,SAAD,CAAd;AACH;AACF,KAfD;AAgBD,GAnBD;;AAqBA,QAAMC,eAAe,GAAIpB,CAAD,IAAO;AAC7BA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAI7C,IAAI,CAACQ,GAAL,CAAS6C,MAAT,KAAoB,CAApB,IAAyBY,QAAQ,CAACjE,IAAI,CAACQ,GAAN,CAAR,GAAqB,MAArB,GAA8ByD,QAAQ,CAACjE,IAAI,CAACQ,GAAN,CAAR,GAAqB,OAAhF,EAAyF;AACvFjB,MAAAA,QAAQ,CAACN,YAAY,CAACe,IAAI,CAACS,cAAN,EAAsBT,IAAI,CAACQ,GAA3B,CAAb,CAAR;AACD,KAFD,MAEO;AACLY,MAAAA,cAAc,CAAC;AAAEC,QAAAA,IAAI,EAAE,IAAR;AAAcC,QAAAA,GAAG,EAAElD,QAAQ,CAAC8F;AAA5B,OAAD,CAAd;AACD;AACF,GAPD;;AASA,QAAMC,YAAY,GAAIvB,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACAtD,IAAAA,QAAQ,CAACL,OAAO,EAAR,CAAR;AACA8B,IAAAA,cAAc,CAAC,KAAD,CAAd;AACArB,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GALD;;AAOA,QAAMyE,eAAe,GAAG,CAACC,MAAD,EAASnB,KAAT,KAAmB;AACzC,QAAIA,KAAK,IAAIA,KAAK,CAAC7C,KAAnB,EAA0B;AACxBJ,MAAAA,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAWI,QAAAA,OAAO,EAAE8C,KAAK,CAAC7C,KAA1B;AAAiCO,QAAAA,eAAe,EAACsC;AAAjD,OAAD,CAAP;AACD;AACF,GAJD;;AAMA,QAAMoB,cAAc,GAAI1B,CAAD,IAAO;AAC5BlE,IAAAA,KAAK,CAACqD,OAAN,CAAcC,IAAd,CAAmB,WAAnB;AACD,GAFD;;AAIA,QAAMuC,gBAAgB,GAAI3B,CAAD,IAAO;AAC9BA,IAAAA,CAAC,CAACC,cAAF;AACAhD,IAAAA,cAAc,CAAC,IAAD,CAAd;AACD,GAHD;;AAKA,QAAM2E,oBAAoB,GAAI5B,CAAD,IAAO;AAClCA,IAAAA,CAAC,CAACC,cAAF;AACA3B,IAAAA,UAAU,CAAC0B,CAAC,CAACI,MAAF,CAASE,KAAV,CAAV;AACD,GAHD;;AAKA,QAAMuB,aAAa,GAAI7B,CAAD,IAAO;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AACA3B,IAAAA,UAAU,CAAC,EAAD,CAAV;AACArB,IAAAA,cAAc,CAAC,KAAD,CAAd;AACD,GAJD;;AAMA,QAAM6E,mBAAmB,GAAI9B,CAAD,IAAO;AACjCA,IAAAA,CAAC,CAACC,cAAF;AACAtD,IAAAA,QAAQ,CAACJ,aAAa,CAAC8B,OAAD,CAAd,CAAR;AACAC,IAAAA,UAAU,CAAC,EAAD,CAAV;AACArB,IAAAA,cAAc,CAAC,KAAD,CAAd;AACD,GALD;;AAOA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,KAAK,EAAC,aAFR;AAGE,IAAA,UAAU,eAAE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHd,KAIM2B,IAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,eAOE;AACE,IAAA,SAAS,EAAED,OAAO,CAACoD,UADrB;AAEE,IAAA,KAAK,EAAE;AACLC,MAAAA,eAAe,EAAE,SAASzH,KAAT,GAAiB,GAD7B;AAEL0H,MAAAA,cAAc,EAAE,OAFX;AAGLC,MAAAA,kBAAkB,EAAE;AAHf,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQE;AAAK,IAAA,EAAE,EAAC,gBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,eASE;AAAK,IAAA,SAAS,EAAEvD,OAAO,CAACwD,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAE,EAAd;AAAkB,IAAA,EAAE,EAAE,EAAtB;AAA0B,IAAA,EAAE,EAAE,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAExD,OAAO,CAACyD,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1G,QAAQ,CAAC2G,oBAAT,gBACD,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAC,MAAlB;AAAyB,IAAA,SAAS,EAAE1D,OAAO,CAAC2D,UAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK9G,QAAQ,CAACU,MAAd,CADF,eAEE;AAAK,IAAA,SAAS,EAAEyC,OAAO,CAAC4D,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG7G,QAAQ,CAAC2G,oBAAT,gBACD,oBAAC,MAAD;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,MAAM,EAAC,QAHT;AAIE,IAAA,KAAK,EAAC,aAJR;AAME,IAAA,OAAO,EAAEtC,cANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQE;AAAG,IAAA,SAAS,EAAE,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADC,GAWA,IAZH,CAFF,CADC,GAkBA,IAnBH,eAoBE,oBAAC,KAAD;AAAO,IAAA,MAAM,MAAb;AAAc,IAAA,SAAS,EAAEpB,OAAO,CAAC6D,IAAjC;AAAuC,IAAA,KAAK,EAAE,CAAE9G,QAAQ,CAAC2G,oBAAX,GAAiC;AAACI,MAAAA,UAAU,EAAC,EAAZ;AAAeC,MAAAA,mBAAmB,EAAC,EAAnC;AAAsCC,MAAAA,oBAAoB,EAAC;AAA3D,KAAjC,GAAgG,IAA9I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE/F,SADT;AAEE,IAAA,QAAQ,EAAEgD,eAFZ;AAGE,IAAA,OAAO,EAAC,WAHV;AAIE,IAAA,cAAc,EAAC,SAJjB;AAKE,IAAA,SAAS,EAAC,SALZ;AAME,kBAAW,mBANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQE,oBAAC,GAAD;AAAK,IAAA,QAAQ,EAAEzB,WAAf;AAA4B,IAAA,IAAI,eAAE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlC;AAAiD,IAAA,KAAK,EAAE3C,QAAQ,CAACoH,SAAjE;AAA6E,kBAAW,OAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EASGlH,QAAQ,CAACmH,kBAAT,gBACD,oBAAC,GAAD;AAAK,IAAA,QAAQ,EAAE1E,WAAf;AAA4B,IAAA,IAAI,eAAE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlC;AAAiD,IAAA,KAAK,EAAE3C,QAAQ,CAACsH,SAAjE;AAA4E,kBAAW,OAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADC,GAEA,IAXH,CADF,CApBF,eAoCE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGlG,SAAS,KAAK,CAAd;AAAA;AAAqB;AACpB,sBAAC,WAAD;AACE,IAAA,SAAS,EAAEpB,QAAQ,CAAC8B,KADtB;AAEE,IAAA,EAAE,EAAC,OAFL;AAGE,IAAA,gBAAgB,EAAE;AAChByF,MAAAA,SAAS,EAAE;AADK,KAHpB;AAME,IAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAE,OADI;AAEVC,MAAAA,QAAQ,EAAE,IAFA;AAGVC,MAAAA,YAAY,eACV,oBAAC,cAAD;AAAgB,QAAA,QAAQ,EAAC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAEvE,OAAO,CAACwE,eAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAJQ,KANd;AAeE,IAAA,QAAQ,EAAEhD,aAfZ;AAgBE,IAAA,KAAK,EAAE/C,IAAI,CAACE,KAhBd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAmBG,IApBN,EAqBGV,SAAS,KAAK,CAAd,gBACC,oBAAC,WAAD;AACE,IAAA,SAAS,EAAEpB,QAAQ,CAACmC,QADtB;AAEE,IAAA,EAAE,EAAC,MAFL;AAGE,IAAA,gBAAgB,EAAE;AAChBoF,MAAAA,SAAS,EAAE;AADK,KAHpB;AAME,IAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAE,UADI;AAEVC,MAAAA,QAAQ,EAAE,IAFA;AAGVC,MAAAA,YAAY,eACV,oBAAC,cAAD;AAAgB,QAAA,QAAQ,EAAC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAEvE,OAAO,CAACwE,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CAJQ;AAUVC,MAAAA,YAAY,EAAE;AAVJ,KANd;AAkBE,IAAA,QAAQ,EAAEjD,aAlBZ;AAmBE,IAAA,KAAK,EAAE/C,IAAI,CAACG,IAnBd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAsBG,IA3CN,EA4CIX,SAAS,KAAK,CAAd,IAAmBlB,QAAQ,CAAC2H,qBAA5B;AAAA;AAAsD;AACtD,sBAAC,aAAD;AACE,IAAA,KAAK,EAAEjG,IAAI,CAACY,eADd;AAEE,IAAA,QAAQ,EAAEwD,eAFZ;AAGE,IAAA,KAAK,EAAE;AAACiB,MAAAA,UAAU,EAAC;AAAZ,KAHT;AAIE,IAAA,QAAQ,EAAErF,IAAI,CAACS,cAAL,GAAsB,IAAtB,GAA6B,KAJzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,GAOE,IAnDN,EAoDGjB,SAAS,KAAK,CAAd;AAAA;AAAoB;AACnB,sBAAC,WAAD;AACE,IAAA,SAAS,EAAEpB,QAAQ,CAACiC,KADtB;AAEE,IAAA,EAAE,EAAC,QAFL;AAGE,IAAA,gBAAgB,EAAE;AAChBsF,MAAAA,SAAS,EAAE;AADK,KAHpB;AAME,IAAA,UAAU,EAAE;AACVE,MAAAA,QAAQ,EAAE,IADA;AAEVK,MAAAA,QAAQ,EAAElG,IAAI,CAACS,cAAL,GAAsB,IAAtB,GAA6B,KAF7B;AAGVqF,MAAAA,YAAY,eACV,oBAAC,cAAD;AAAgB,QAAA,QAAQ,EAAC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAW,QAAA,SAAS,EAAEvE,OAAO,CAACwE,eAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAJQ,KANd;AAeE,IAAA,QAAQ,EAAEhD,aAfZ;AAgBE,IAAA,KAAK,EAAE/C,IAAI,CAACM,MAhBd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAmBG,IAvEN,EAwEGN,IAAI,CAACS,cAAL,IAAuBjB,SAAS,KAAK,CAArC;AAAA;AAA4C;AAC3C,sBAAC,WAAD;AACE,IAAA,SAAS,EAAEpB,QAAQ,CAACoC,GADtB;AAEE,IAAA,EAAE,EAAC,KAFL;AAGE,IAAA,gBAAgB,EAAE;AAChBmF,MAAAA,SAAS,EAAE;AADK,KAHpB;AAME,IAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAE,UADI;AAEVC,MAAAA,QAAQ,EAAE,IAFA;AAGVC,MAAAA,YAAY,eACV,oBAAC,cAAD;AAAgB,QAAA,QAAQ,EAAC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAEvE,OAAO,CAACwE,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CAJQ;AAUVC,MAAAA,YAAY,EAAE;AAVJ,KANd;AAkBE,IAAA,QAAQ,EAAEjD,aAlBZ;AAmBE,IAAA,KAAK,EAAE/C,IAAI,CAACQ,GAnBd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAsBG,IA9FN,EA+FGhB,SAAS,KAAK,CAAd,gBACC,oBAAC,aAAD;AACE,IAAA,KAAK,EAAC,SADR;AAEE,IAAA,OAAO,EAAE+E,gBAFX;AAGE,IAAA,gBAAgB,EAAE,IAHpB;AAIE,IAAA,kBAAkB,EAAE,IAJtB;AAKE,IAAA,aAAa,EAAE,IALjB;AAME,IAAA,SAAS,EAAEhD,OAAO,CAAC4E,YANrB;AAOE,IAAA,OAAO,EAAC,MAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASK/H,QAAQ,CAACgI,eATd,CADD,GAYC,IA3GJ,CApCF,eAiJE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAE7E,OAAO,CAAC8E,UAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG7G,SAAS,KAAK,CAAd,gBACC,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAE+B,OAAO,CAAC+E,YAA3B;AAAyC,IAAA,MAAM,MAA/C;AAAgD,IAAA,KAAK,EAAC,SAAtD;AAAgE,IAAA,IAAI,EAAC,IAArE;AAA0E,IAAA,OAAO,EAAEnD,YAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG/E,QAAQ,CAACmI,KADZ,CADD,GAIG,IALN,EAMG/G,SAAS,KAAK,CAAd,gBACC,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAE+B,OAAO,CAAC+E,YAA3B;AAAyC,IAAA,MAAM,MAA/C;AAAgD,IAAA,KAAK,EAAC,SAAtD;AAAgE,IAAA,IAAI,EAAC,IAArE;AAA0E,IAAA,OAAO,EAAEhC,cAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGlG,QAAQ,CAACoI,QADZ,CADD,GAIG,IAVN,EAYGhH,SAAS,KAAK,CAAd,IAAmB,CAACQ,IAAI,CAACS,cAAzB,gBACC,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEc,OAAO,CAAC+E,YAA3B;AAAyC,IAAA,MAAM,MAA/C;AAAgD,IAAA,KAAK,EAAC,SAAtD;AAAgE,IAAA,IAAI,EAAC,IAArE;AAA0E,IAAA,OAAO,EAAE/C,YAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGnF,QAAQ,CAACqI,OADZ,CADD,GAIG,IAhBN,EAiBIjH,SAAS,KAAK,CAAd,IAAoBQ,IAAI,CAACS,cAAzB,gBACA,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEc,OAAO,CAAC+E,YAA3B;AAAyC,IAAA,MAAM,MAA/C;AAAgD,IAAA,KAAK,EAAC,SAAtD;AAAgE,IAAA,IAAI,EAAC,IAArE;AAA0E,IAAA,OAAO,EAAEtC,eAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG5F,QAAQ,CAACsI,UADZ,CADA,GAIE,IArBN,EAuBIlH,SAAS,KAAK,CAAd,IAAmBQ,IAAI,CAACS,cAAxB,gBACA,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEc,OAAO,CAAC+E,YAA3B;AAAyC,IAAA,MAAM,MAA/C;AAAgD,IAAA,KAAK,EAAC,SAAtD;AAAgE,IAAA,IAAI,EAAC,IAArE;AAA0E,IAAA,OAAO,EAAEnC,YAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG/F,QAAQ,CAACuI,MADZ,CADA,GAIE,IA3BN,CAjJF,CADF,CADF,CADF,CADF,CATF,eAiME,oBAAC,MAAD;AAAQ,IAAA,SAAS,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjMF,eAkME,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAE/G,WAAd;AAA2B,IAAA,OAAO,EAAE6E,aAApC;AAAmD,uBAAgB,mBAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqCrG,QAAQ,CAACwI,iBAA9C,CADF,eAEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxI,QAAQ,CAACyI,uBADZ,CADF,eAIE,oBAAC,SAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,MAAM,EAAC,OAFT;AAGE,IAAA,EAAE,EAAC,MAHL;AAIE,IAAA,KAAK,EAAEzI,QAAQ,CAAC8B,KAJlB;AAKE,IAAA,IAAI,EAAC,OALP;AAME,IAAA,SAAS,MANX;AAOE,IAAA,QAAQ,EAAEsE,oBAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAFF,eAgBE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEC,aAAjB;AAAgC,IAAA,KAAK,EAAC,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCrG,QAAQ,CAACuI,MADV,CADF,eAIE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEjC,mBAAjB;AAAsC,IAAA,KAAK,EAAC,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCtG,QAAQ,CAAC0I,cADV,CAJF,CAhBF,CAlMF,eA2NE,oBAAC,WAAD;AAAa,IAAA,IAAI,EAAE3F,WAAW,CAACE,IAA/B;AAAqC,IAAA,OAAO,EAAEyB,sBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuE3B,WAAW,CAACG,GAAnF,CA3NF,CAPF,CADF;AAuOD;;GApauB7C,S;UAYTrB,W,EACIC,W,EA0BDmB,S;;;KAvCMC,S","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Email from \"@material-ui/icons/Email\";\nimport Header from \"components/Header/Header.js\";\nimport HeaderLinks from \"components/Header/HeaderLinks.js\";\nimport Footer from \"components/Footer/Footer.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport styles from \"assets/jss/material-kit-react/views/loginPage.js\";\nimport image from \"assets/img/background.jpg\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Paper from '@material-ui/core/Paper';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport EmailIcon from '@material-ui/icons/Email';\nimport AlertDialog from '../components/AlertDialog';\nimport CountrySelect from '../components/CountrySelect';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport {Button as RegularButton} from \"@material-ui/core\";\nimport {\n  language,\n  default_country_code,\n  features\n} from 'config';\nimport { FirebaseContext } from 'common';\n\nconst useStyles = makeStyles(styles);\n\nexport default function LoginPage(props) {\n  const { api, authRef, RecaptchaVerifier } = useContext(FirebaseContext);\n  const {\n    signIn,\n    facebookSignIn,\n    clearLoginError,\n    mobileSignIn,\n    signOut,\n    sendResetMail,\n    checkUserExists\n  } = api;\n\n  const auth = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  const [loginType, setLoginType] = React.useState(0);\n  const [activeReg, setActiveReg] = React.useState(false);\n  const [openFPModal, setOpenFPModal] = React.useState(false);\n  const [capatchaReady, setCapatchaReady] = React.useState(false);\n\n  const [data, setData] = React.useState({\n    email: '',\n    pass: '',\n    country: default_country_code.phone,\n    mobile: '',\n    password: '',\n    otp: '',\n    verificationId: null,\n    firstName: '',\n    lastName: '',\n    selectedcountry:default_country_code,\n    usertype:'rider',\n    referralId:''\n  });\n  \n  const [tabDisabled, setTabDisabled] = React.useState(false);\n  const [fpEmail, setFpEmail] = React.useState(\"\");\n\n  const [commonAlert, setCommonAlert] = useState({ open: false, msg: '' });\n\n  const classes = useStyles();\n  const { ...rest } = props;\n\n  useEffect(() => {\n    if(!capatchaReady){\n      window.recaptchaVerifier = new RecaptchaVerifier(\"sign-in-button\",{\n        'size': 'invisible',\n        'callback': function(response) {\n          setCapatchaReady(true);\n        }\n      });\n    }\n    if (auth.info) {\n      if(auth.info.profile){\n        let role = auth.info.profile.usertype;\n        if(role==='admin' || role==='fleetadmin'){\n          props.history.push('/dashboard');\n        }\n        else if (role==='driver'){\n          props.history.push('/bookings');\n        }\n        else {\n          features.WebsitePagesEnabled?props.history.push('/'):props.history.push('/bookings');\n        }\n      }else{\n        if(!activeReg){\n          setActiveReg(true);\n          if(auth.info.phoneNumber){\n            setData({...data,mobile:auth.info.phoneNumber})\n            setLoginType(1);\n          }else{\n            setData({...data,email:auth.info.email})\n            setLoginType(0);\n          }\n          setTabDisabled(true);\n          setCommonAlert({ open: true, msg: language.login_success });\n        }\n      } \n    }\n    if (auth.error && auth.error.flag && auth.error.msg.message !== language.not_logged_in) {\n      setCommonAlert({ open: true, msg: auth.error.msg.message })\n    }\n    if(auth.verificationId){\n      setData({ ...data, verificationId: auth.verificationId });\n    }\n  }, [auth.info, auth.error, auth.verificationId, props.history, data, data.email,activeReg,capatchaReady,RecaptchaVerifier]);\n\n  const handleTabChange = (event, newValue) => {\n    setLoginType(newValue);\n  };\n\n  const handleFacebook = (e) => {\n    e.preventDefault();\n    dispatch(facebookSignIn());\n  }\n\n  const handleCommonAlertClose = (e) => {\n    e.preventDefault();\n    setCommonAlert({ open: false, msg: '' });\n    if (auth.error.flag) {\n      setData({...data,email:'',pass:''});\n      dispatch(clearLoginError());\n    }\n  };\n\n  const onInputChange = (event) => {\n    setData({ ...data, [event.target.id]: event.target.value })\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    //eslint-disable-next-line\n    if (/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(data.email) && data.pass.length > 0) {\n      dispatch(signIn(data.email, data.pass));\n    } else {\n      setCommonAlert({ open: true, msg: language.login_validate_error})\n    }\n    setData({...data,email:'',pass:''});\n  }\n\n  const handleGetOTP = (e) => {\n    e.preventDefault();\n    const phoneNumber = \"+\" + data.country + data.mobile;\n    checkUserExists({mobile:phoneNumber}).then((res)=>{\n      if(res.users && res.users.length>0){\n          const appVerifier = window.recaptchaVerifier;\n          authRef\n          .signInWithPhoneNumber(phoneNumber, appVerifier)\n          .then(res => {\n              setData({...data, verificationId: res.verificationId})\n          })\n          .catch(error => {\n              setCommonAlert({ open: true, msg: error.code + \": \" + error.message})\n          });\n      }\n      else{\n          setCommonAlert({ open: true, msg: language.user_does_not_exists})\n      }\n    });\n  }\n\n  const handleVerifyOTP = (e) => {\n    e.preventDefault();\n    if (data.otp.length === 6 && parseInt(data.otp) > 100000 & parseInt(data.otp) < 1000000) {\n      dispatch(mobileSignIn(data.verificationId, data.otp));\n    } else {\n      setCommonAlert({ open: true, msg: language.otp_validate_error})\n    }\n  }\n\n  const handleCancel = (e) => {\n    e.preventDefault();\n    dispatch(signOut());\n    setTabDisabled(false);\n    setActiveReg(false);  \n  }\n\n  const onCountryChange = (object, value) => {\n    if (value && value.phone) {\n      setData({ ...data, country: value.phone, selectedcountry:value });\n    }\n  };\n\n  const handleRegister = (e) => {\n    props.history.push('/register');\n  };\n\n  const handleForgotPass = (e) => {\n    e.preventDefault();\n    setOpenFPModal(true);\n  };\n\n  const onFPModalEmailChange = (e) => {\n    e.preventDefault();\n    setFpEmail(e.target.value);\n  }\n\n  const handleCloseFP = (e) => {\n    e.preventDefault();\n    setFpEmail('');\n    setOpenFPModal(false);\n  }\n\n  const handleResetPassword = (e) => {\n    e.preventDefault();\n    dispatch(sendResetMail(fpEmail));\n    setFpEmail('');\n    setOpenFPModal(false);\n  }\n\n  return (\n    <div>\n      <Header\n        absolute\n        color=\"transparent\"\n        rightLinks={<HeaderLinks />}\n        {...rest}\n      />\n      <div\n        className={classes.pageHeader}\n        style={{\n          backgroundImage: \"url(\" + image + \")\",\n          backgroundSize: \"cover\",\n          backgroundPosition: \"top center\"\n        }}\n      >\n        <div id=\"sign-in-button\" />\n        <div className={classes.container}>\n          <GridContainer justify=\"center\">\n            <GridItem xs={12} sm={12} md={4}>\n              <Card>\n                <form className={classes.form}>\n                  {features.FacebookLoginEnabled?\n                  <CardHeader color=\"info\" className={classes.cardHeader}>\n                    <h4>{language.signIn}</h4>\n                    <div className={classes.socialLine}>\n                      {features.FacebookLoginEnabled?\n                      <Button\n                        justIcon\n                        href=\"#pablo\"\n                        target=\"_blank\"\n                        color=\"transparent\"\n\n                        onClick={handleFacebook}\n                      >\n                        <i className={\"fab fa-facebook\"} />\n                      </Button>\n                      :null}\n                    </div>\n                  </CardHeader>\n                  :null}\n                  <Paper square className={classes.root} style={!(features.FacebookLoginEnabled)?{paddingTop:20,borderTopLeftRadius:10,borderTopRightRadius:10}:null}>\n                    <Tabs\n                      value={loginType}\n                      onChange={handleTabChange}\n                      variant=\"fullWidth\"\n                      indicatorColor=\"primary\"\n                      textColor=\"inherit\"\n                      aria-label=\"switch login type\"\n                    >\n                      <Tab disabled={tabDisabled} icon={<EmailIcon />} label={language.email_tab}  aria-label=\"email\" />\n                      {features.MobileLoginEnabled?\n                      <Tab disabled={tabDisabled} icon={<PhoneIcon />} label={language.phone_tab} aria-label=\"phone\" />\n                      :null}\n                    </Tabs>\n                  </Paper>\n\n                  <CardBody>\n                    {loginType === 0 ?    //EMAIL\n                      <CustomInput\n                        labelText={language.email}\n                        id=\"email\"\n                        formControlProps={{\n                          fullWidth: true\n                        }}\n                        inputProps={{\n                          type: \"email\",\n                          required: true,\n                          endAdornment: (\n                            <InputAdornment position=\"end\">\n                              <Email className={classes.inputIconsColor} />\n                            </InputAdornment>\n                          )\n                        }}\n                        onChange={onInputChange}\n                        value={data.email}\n                      />\n                      : null}\n                    {loginType === 0?\n                      <CustomInput\n                        labelText={language.password}\n                        id=\"pass\"\n                        formControlProps={{\n                          fullWidth: true\n                        }}\n                        inputProps={{\n                          type: \"password\",\n                          required: true,\n                          endAdornment: (\n                            <InputAdornment position=\"end\">\n                              <Icon className={classes.inputIconsColor}>\n                                lock_outline\n                            </Icon>\n                            </InputAdornment>\n                          ),\n                          autoComplete: \"off\"\n                        }}\n                        onChange={onInputChange}\n                        value={data.pass}\n                      />\n                      : null}\n                    { loginType === 1 && features.AllowCountrySelection ?   // COUNTRY\n                      <CountrySelect\n                        value={data.selectedcountry}\n                        onChange={onCountryChange}\n                        style={{paddingTop:20}}\n                        disabled={data.verificationId ? true : false}\n                      />\n                      : null}\n                    {loginType === 1 ?   //MOBILE\n                      <CustomInput\n                        labelText={language.phone}\n                        id=\"mobile\"\n                        formControlProps={{\n                          fullWidth: true\n                        }}\n                        inputProps={{\n                          required: true,\n                          disabled: data.verificationId ? true : false,\n                          endAdornment: (\n                            <InputAdornment position=\"end\">\n                              <PhoneIcon className={classes.inputIconsColor} />\n                            </InputAdornment>\n                          )\n                        }}\n                        onChange={onInputChange}\n                        value={data.mobile}\n                      />\n                      : null}\n                    {data.verificationId && loginType === 1 ?    // OTP\n                      <CustomInput\n                        labelText={language.otp}\n                        id=\"otp\"\n                        formControlProps={{\n                          fullWidth: true\n                        }}\n                        inputProps={{\n                          type: \"password\",\n                          required: true,\n                          endAdornment: (\n                            <InputAdornment position=\"end\">\n                              <Icon className={classes.inputIconsColor}>\n                                lock_outline\n                            </Icon>\n                            </InputAdornment>\n                          ),\n                          autoComplete: \"off\"\n                        }}\n                        onChange={onInputChange}\n                        value={data.otp}\n                      />\n                      : null}\n                    {loginType === 0 ?  \n                      <RegularButton \n                        color=\"inherit\" \n                        onClick={handleForgotPass}\n                        disableElevation={true}\n                        disableFocusRipple={true}\n                        disableRipple={true}\n                        className={classes.forgotButton}\n                        variant=\"text\"\n                      >\n                          {language.forgot_password}\n                      </RegularButton>\n                    : null}\n                  </CardBody>\n                  <CardFooter className={classes.cardFooter}>\n                    {loginType === 0 ?\n                      <Button className={classes.normalButton} simple color=\"primary\" size=\"lg\" onClick={handleSubmit}>\n                        {language.login}\n                    </Button>\n                      : null}\n                    {loginType === 0 ?\n                      <Button className={classes.normalButton} simple color=\"primary\" size=\"lg\" onClick={handleRegister}>\n                        {language.register}\n                    </Button>\n                      : null}\n\n                    {loginType === 1 && !data.verificationId ?\n                      <Button className={classes.normalButton} simple color=\"primary\" size=\"lg\" onClick={handleGetOTP}>\n                        {language.get_otp}\n                    </Button>\n                      : null}\n                    { loginType === 1 &&  data.verificationId ?\n                      <Button className={classes.normalButton} simple color=\"primary\" size=\"lg\" onClick={handleVerifyOTP}>\n                        {language.verify_otp}\n                    </Button>\n                      : null}\n\n                    { loginType === 1 && data.verificationId ?\n                      <Button className={classes.normalButton} simple color=\"primary\" size=\"lg\" onClick={handleCancel}>\n                        {language.cancel}\n                    </Button>\n                      : null}\n\n                  </CardFooter>\n                </form>\n              </Card>\n            </GridItem>\n          </GridContainer>\n        </div>\n        <Footer whiteFont />\n        <Dialog open={openFPModal} onClose={handleCloseFP} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">{language.forgot_pass_title}</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              {language.forgot_pass_description}\n          </DialogContentText>\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"name\"\n              label={language.email}\n              type=\"email\"\n              fullWidth\n              onChange={onFPModalEmailChange}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleCloseFP} color=\"primary\">\n            {language.cancel}\n          </Button>\n            <Button onClick={handleResetPassword} color=\"primary\">\n            {language.reset_password}\n          </Button>\n          </DialogActions>\n        </Dialog>\n        <AlertDialog open={commonAlert.open} onClose={handleCommonAlertClose}>{commonAlert.msg}</AlertDialog>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}