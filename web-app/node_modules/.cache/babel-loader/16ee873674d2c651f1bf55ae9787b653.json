{"ast":null,"code":"var _jsxFileName = \"D:\\\\e beta react native\\\\eBetaDrive\\\\web-app\\\\src\\\\views\\\\MyProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport CircularLoading from \"../components/CircularLoading\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { language } from \"config\";\nimport AlertDialog from '../components/AlertDialog';\nimport { FirebaseContext } from 'common';\nconst useStyles = makeStyles(theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white\n    }\n  },\n  paper: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n    width: 192,\n    height: 192\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nconst MyProfile = () => {\n  _s();\n\n  const {\n    api\n  } = useContext(FirebaseContext);\n  const {\n    updateProfile\n  } = api;\n  const auth = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const [commonAlert, setCommonAlert] = useState({\n    open: false,\n    msg: ''\n  });\n  const [data, setData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    mobile: '',\n    loginType: null,\n    usertype: ''\n  });\n  useEffect(() => {\n    if (auth.info && auth.info.profile) {\n      setData({\n        firstName: !auth.info.profile.firstName || auth.info.profile.firstName === ' ' ? '' : auth.info.profile.firstName,\n        lastName: !auth.info.profile.lastName || auth.info.profile.lastName === ' ' ? '' : auth.info.profile.lastName,\n        email: !auth.info.profile.email || auth.info.profile.email === ' ' ? '' : auth.info.profile.email,\n        mobile: !auth.info.profile.mobile || auth.info.profile.mobile === ' ' ? '' : auth.info.profile.mobile,\n        loginType: auth.info.profile.loginType ? 'social' : 'email',\n        usertype: auth.info.profile.usertype,\n        uid: auth.info.uid\n      });\n    }\n  }, [auth.info]);\n\n  const updateData = e => {\n    setData({ ...data,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(data.email)) {\n      dispatch(updateProfile(auth.info, {\n        firstName: data.firstName,\n        lastName: data.lastName,\n        email: data.email,\n        mobile: data.mobile\n      }));\n      setCommonAlert({\n        open: true,\n        msg: language.profile_updated\n      });\n    } else {\n      setCommonAlert({\n        open: true,\n        msg: language.proper_email\n      });\n    }\n  };\n\n  const handleCommonAlertClose = e => {\n    e.preventDefault();\n    setCommonAlert({\n      open: false,\n      msg: ''\n    });\n  };\n\n  return auth.loading ? /*#__PURE__*/React.createElement(CircularLoading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 20\n    }\n  }) : /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, language.profile), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"firstName\",\n    label: language.firstname,\n    name: \"firstName\",\n    autoComplete: \"firstName\",\n    onChange: updateData,\n    value: data.firstName,\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"lastName\",\n    label: language.lastname,\n    name: \"lastName\",\n    autoComplete: \"lastName\",\n    onChange: updateData,\n    value: data.lastName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"email\",\n    label: language.email,\n    name: \"email\",\n    autoComplete: \"email\",\n    onChange: updateData,\n    value: data.email,\n    disabled: data.loginType === 'email' ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"mobile\",\n    label: language.phone,\n    name: \"mobile\",\n    autoComplete: \"mobile\",\n    onChange: updateData,\n    value: data.mobile,\n    disabled: data.loginType === 'email' ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    fullWidth: true,\n    id: \"usertype\",\n    label: language.usertype,\n    name: \"usertype\",\n    value: data.usertype,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"success\",\n    className: classes.submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, language.submit))), /*#__PURE__*/React.createElement(AlertDialog, {\n    open: commonAlert.open,\n    onClose: handleCommonAlertClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, commonAlert.msg));\n};\n\n_s(MyProfile, \"JAu/Ks5ZdlZ2JAKqT53mcW95I24=\", false, function () {\n  return [useSelector, useDispatch, useStyles];\n});\n\n_c = MyProfile;\nexport default MyProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyProfile\");","map":{"version":3,"sources":["D:/e beta react native/eBetaDrive/web-app/src/views/MyProfile.js"],"names":["React","useState","useEffect","useContext","CircularLoading","useSelector","useDispatch","Button","CssBaseline","TextField","Typography","Container","makeStyles","language","AlertDialog","FirebaseContext","useStyles","theme","body","backgroundColor","palette","common","white","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","secondary","main","width","height","form","submit","MyProfile","api","updateProfile","auth","state","dispatch","classes","commonAlert","setCommonAlert","open","msg","data","setData","firstName","lastName","email","mobile","loginType","usertype","info","profile","uid","updateData","e","target","name","value","handleSubmit","preventDefault","test","profile_updated","proper_email","handleCommonAlertClose","loading","firstname","lastname","phone"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport CircularLoading from \"../components/CircularLoading\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {language} from \"config\";\nimport AlertDialog from '../components/AlertDialog';\nimport { FirebaseContext } from 'common';\n\nconst useStyles = makeStyles(theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white,\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n    width: 192,\n    height: 192\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst MyProfile = () => {\n  const { api } = useContext(FirebaseContext);\n  const {\n    updateProfile\n  } = api;\n  const auth = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const [commonAlert, setCommonAlert] = useState({open:false,msg:''});\n\n  const [data, setData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    mobile: '',\n    loginType:null,\n    usertype:''\n  });\n\n  useEffect(() => {\n    if (auth.info && auth.info.profile) {\n      setData({\n        firstName: !auth.info.profile.firstName || auth.info.profile.firstName === ' '? '' : auth.info.profile.firstName,\n        lastName: !auth.info.profile.lastName || auth.info.profile.lastName === ' '? '' : auth.info.profile.lastName,\n        email: !auth.info.profile.email || auth.info.profile.email === ' '? '' : auth.info.profile.email,\n        mobile: !auth.info.profile.mobile || auth.info.profile.mobile === ' '? '' : auth.info.profile.mobile,\n        loginType:auth.info.profile.loginType?'social':'email',\n        usertype:auth.info.profile.usertype,\n        uid:auth.info.uid\n      });\n    }\n  }, [auth.info]);\n\n  const updateData = (e) => {\n    setData({ ...data, [e.target.name]: e.target.value });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(data.email)){\n      dispatch(updateProfile(auth.info,{\n        firstName: data.firstName,\n        lastName: data.lastName,\n        email: data.email,\n        mobile: data.mobile\n      }));\n      setCommonAlert({open:true,msg:language.profile_updated})\n    }else{\n      setCommonAlert({open:true,msg:language.proper_email})\n    }\n  }\n\n  const handleCommonAlertClose = (e) => {\n    e.preventDefault();\n    setCommonAlert({open:false,msg:''})\n  };\n\n  return (\n    auth.loading ? <CircularLoading /> :\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <form className={classes.form} onSubmit={handleSubmit}>\n            <Typography component=\"h1\" variant=\"h5\">\n              {language.profile}\n            </Typography>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"firstName\"\n              label={language.firstname}\n              name=\"firstName\"\n              autoComplete=\"firstName\"\n              onChange={updateData}\n              value={data.firstName}\n              autoFocus\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"lastName\"\n              label={language.lastname}\n              name=\"lastName\"\n              autoComplete=\"lastName\"\n              onChange={updateData}\n              value={data.lastName}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label={language.email}\n              name=\"email\"\n              autoComplete=\"email\"\n              onChange={updateData}\n              value={data.email}\n              disabled={data.loginType==='email'?true:false}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"mobile\"\n              label={language.phone}\n              name=\"mobile\"\n              autoComplete=\"mobile\"\n              onChange={updateData}\n              value={data.mobile}\n              disabled={data.loginType==='email'?true:false}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              fullWidth\n              id=\"usertype\"\n              label={language.usertype}\n              name=\"usertype\"\n              value={data.usertype}\n              disabled={true}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"success\"\n              className={classes.submit}\n            >\n              {language.submit}\n            </Button>\n          </form>\n        </div>\n        <AlertDialog open={commonAlert.open} onClose={handleCommonAlertClose}>{commonAlert.msg}</AlertDialog>\n      </Container>\n  );\n};\n\nexport default MyProfile;"]},"metadata":{},"sourceType":"module"}